(this.webpackJsonpcoinstar=this.webpackJsonpcoinstar||[]).push([[0],{35:function(e,t,a){e.exports=a(66)},45:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(28),i=a.n(r),l=a(8),s=a(7),o=function(){return c.a.createElement(l.b,{to:"/cryptotracker"},c.a.createElement("h1",{className:"header text-center text-primary mt-3 mb-4"},"Coin Stats"))},m=(a(45),a(33)),u=a(3),d=Object(n.createContext)(),p=function(e){var t;console.log();var a=Object(n.useState)((null===(t=localStorage.getItem("watchList"))||void 0===t?void 0:t.split(","))||["bitcoin","ethereum","tether","dogecoin","cardano"]),r=Object(u.a)(a,2),i=r[0],l=r[1];Object(n.useEffect)((function(){localStorage.setItem("watchList",i)}),[i]);return c.a.createElement(d.Provider,{value:{watchList:i,deleteCoin:function(e){l(i.filter((function(t){return t!==e})))},addCoin:function(e){-1===i.indexOf(e)&&l([].concat(Object(m.a)(i),[e]))}}},e.children)},f=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Object(n.useContext)(d).addCoin;return c.a.createElement("div",{className:"dropdown"},c.a.createElement("button",{onClick:function(){return r(!a)},className:"btn btn-primary dropdown-toggle",type:"button"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),c.a.createElement("div",{className:a?"dropdown-menu show":"dropdown-menu"},["bitcoin","ethereum","tether","cardano","dogecoin","bitcoin-cash","litecoin","stellar","filecoin"].map((function(e){return c.a.createElement("a",{onClick:function(){return i(e),void r(!1)},href:"#",className:"dropdown-item"},e)}))))},b=a(10),E=a.n(b),h=a(14),g=a(31),v=a.n(g).a.create({baseURL:"https://api.coingecko.com/api/v3"}),y=function(e){var t=e.coin,a=e.deleteCoin;return c.a.createElement(l.b,{to:"/cryptotracker/coins/".concat(t.id),className:"text-decoration-none my-1 coin"},c.a.createElement("li",{className:"coinlist-item list-group-item list-group-item-action d-flex justify-content-between align-items-center text-dark"},c.a.createElement("img",{className:"coinlist-image",src:t.image,alt:""}),c.a.createElement("span",{className:"text-decoration-none"},t.current_price," \u20bd"),c.a.createElement("span",{className:t.price_change_percentage_24h<0?"text-danger mr-2":"text-success mr-2"}," ",t.price_change_percentage_24h<0?c.a.createElement("div",{className:"fas fa-sort-down align-middle mr-1"}):c.a.createElement("div",{className:"fas fa-sort-up align-middle mr-1"}),t.price_change_percentage_24h),c.a.createElement("div",{onClick:function(e){e.preventDefault(),a(t.id)},className:"delete-icon far fa-times-circle text-danger"})))},x=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Object(n.useContext)(d),l=i.watchList,s=i.deleteCoin,o=Object(n.useState)(!1),m=Object(u.a)(o,2),p=m[0],f=m[1];Object(n.useEffect)((function(){var e=function(){var e=Object(h.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,v.get("/coins/markets/",{params:{vs_currency:"rub",ids:l.join(",")}});case 3:t=e.sent,r(t.data),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l.length>0?e():r([])}),[l]);return c.a.createElement("div",null,p?c.a.createElement("div",{className:"spinner-grow text-primary m-2",role:"status"}):c.a.createElement("ul",{className:"coinlist list-group mt-2"},a.map((function(e){return c.a.createElement(y,{key:e.id,coin:e,deleteCoin:s})}))))},N=function(){return c.a.createElement("div",{className:"coinsummary shadow border p-2 rounded mt-2 bg-light"},c.a.createElement(f,null),c.a.createElement(x,null))},w=a(34),j=a(32),O=a.n(j),_={lineHeightAnnotation:{always:!0,hover:!1,lineWeight:1.5},animation:{duration:2e3},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{type:"time",distribution:"linear"}]}},k=function(e){var t=e.data,a=Object(n.useRef)(),r=t.day,i=t.week,l=t.year,s=t.detail,o=Object(n.useState)("24h"),m=Object(u.a)(o,2),d=m[0],p=m[1],f=function(){switch(d){case"24h":return r;case"7d":return i;case"1y":return l;default:return r}};Object(n.useEffect)((function(){if(a&&a.current&&s){console.log("yeah");new O.a(a.current,{type:"line",data:{datasets:[{label:"\u0426\u0435\u043d\u0430 ".concat(s.name),data:f(),backgroundColor:"rgba(104, 177, 255, 0.5)",borderColor:"rgba(104, 177, 255, 0.9",pointRadius:1}]},options:Object(w.a)({},_)})}}));return c.a.createElement("div",{className:"bg-white border mt-2 rounded p-3"},c.a.createElement("div",null,function(){if(s)return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"my-0"},s.current_price.toFixed(2)," \u20bd"),c.a.createElement("p",{className:s.price_change_24h<0?"text-danger my-0":"text-success my-0"},s.price_change_percentage_24h.toFixed(2),"%"))}()),c.a.createElement("div",null,c.a.createElement("canvas",{ref:a,id:"myChart",width:250,height:250})),c.a.createElement("div",{className:"chart-button mt-1"},c.a.createElement("button",{onClick:function(){return p("24h")},className:"btn btn-outline-secondary btn-sm"},"24\u0427"),c.a.createElement("button",{onClick:function(){return p("7d")},className:"btn btn-outline-secondary btn-sm mx-1"},"7\u0414"),c.a.createElement("button",{onClick:function(){return p("1y")},className:"btn btn-outline-secondary btn-sm"},"1\u0413")))},C=function(e){var t=e.data;return c.a.createElement("div",null,function(){if(t)return c.a.createElement("div",{className:"bg-white mt-4 p-4 rounded border row"},c.a.createElement("div",{className:"col-sm"},c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"\u041c\u0430\u043a\u0441\u0438\u043c\u0443\u043c \u0437\u0430 24\u0427"),c.a.createElement("span",null,t.high_24h)),c.a.createElement("hr",null),c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"\u041c\u0438\u043d\u0438\u043c\u0443\u043c \u0437\u0430 24\u0427"),c.a.createElement("span",null,t.low_24h))),c.a.createElement("div",{className:"col-sm"},c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"\u041a\u0430\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"),c.a.createElement("span",null,t.market_cap)),c.a.createElement("hr",null),c.a.createElement("div",{className:"d-flex flex-column"},c.a.createElement("span",{className:"text-muted coin-data-category"},"\u0412\u0441\u0435\u0433\u043e \u043c\u043e\u043d\u0435\u0442"),c.a.createElement("span",null,t.total_supply))))}())},S=function(){var e=Object(s.e)().id,t=Object(n.useState)({}),a=Object(u.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)(!1),o=Object(u.a)(l,2),m=o[0],d=o[1],p=function(e){return e.map((function(e){return{t:e[0],y:e[1].toFixed(2)}}))};Object(n.useEffect)((function(){(function(){var t=Object(h.a)(E.a.mark((function t(){var a,n,c,r,l,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.next=3,Promise.all([v.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"rub",days:"1"}}),v.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"rub",days:"7"}}),v.get("/coins/".concat(e,"/market_chart/"),{params:{vs_currency:"rub",days:"365"}}),v.get("/coins/markets/",{params:{vs_currency:"rub",ids:e}})]);case 3:a=t.sent,n=Object(u.a)(a,4),c=n[0],r=n[1],l=n[2],s=n[3],i({day:p(c.data.prices),week:p(r.data.prices),year:p(l.data.prices),detail:s.data[0]}),d(!1);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]);return m?c.a.createElement("div",{className:"spinner-grow text-primary m-2",role:"status"}):c.a.createElement("div",{className:"coinlist"},c.a.createElement(k,{data:r}),c.a.createElement(C,{data:r.detail}))},L=function(){return c.a.createElement("span",{className:"footer text-center"},"Made by Yan Levin")},F=function(){return c.a.createElement("div",{className:"container"},c.a.createElement(p,null,c.a.createElement(l.a,null,c.a.createElement(o,null),c.a.createElement(s.a,{exact:!0,path:"/",component:N}),c.a.createElement(s.a,{path:"/coins/:id",component:S}),c.a.createElement(L,null))))};i.a.render(c.a.createElement(F,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.f43d4ee0.chunk.js.map