{"version":3,"sources":["components/Header.jsx","context/watchListContext.js","components/AddCoin.jsx","API/coinGecko.js","components/Coin.jsx","components/CoinList.jsx","pages/MainPage.jsx","chartConfigs/chartConfigs.js","components/HistoryChart.jsx","components/CoinData.jsx","pages/CoinStats.jsx","components/Footer.jsx","App.jsx","index.js"],"names":["Header","to","className","WatchListContext","createContext","WatchListContextProvider","props","console","log","useState","localStorage","getItem","split","watchList","setWatchList","useEffect","setItem","Provider","value","deleteCoin","coin","filter","el","addCoin","indexOf","children","AddCoin","isActive","setIsActive","useContext","onClick","type","map","href","axios","create","baseURL","Coin","id","src","image","alt","current_price","price_change_percentage_24h","e","preventDefault","CoinList","coins","setCoins","isLoading","setIsLoading","fetchData","a","coinGecko","get","params","vs_currency","ids","join","response","data","length","role","key","MainPage","historyOptions","lineHeightAnnotation","always","hover","lineWeight","animation","duration","maintainAspectRatio","responsive","scales","xAxes","distribution","HistoryChart","chartRef","useRef","day","week","year","detail","timeFormat","setTimeFormat","determineTimeFormat","current","Chartjs","datasets","label","name","backgroundColor","borderColor","pointRadius","options","toFixed","price_change_24h","renderPrice","ref","width","height","CoinData","high_24h","low_24h","market_cap","total_supply","renderData","CoinStats","useParams","coinData","setCoinData","formatData","t","y","Promise","all","days","prices","Footer","App","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"wNAWeA,EARA,WACb,OACE,kBAAC,IAAD,CAAMC,GAAG,kBACP,wBAAIC,UAAU,6CAAd,gB,uBCJOC,EAAmBC,0BAEnBC,EAA2B,SAACC,GAAW,IAAD,EACjDC,QAAQC,MADyC,MAEfC,oBAChC,UAAAC,aAAaC,QAAQ,oBAArB,eAAmCC,MAAM,OAAQ,CAC/C,UACA,WACA,SACA,WACA,YAR6C,mBAE1CC,EAF0C,KAE/BC,EAF+B,KAYjDC,qBAAU,WACRL,aAAaM,QAAQ,YAAaH,KACjC,CAACA,IAgBJ,OACE,kBAACV,EAAiBc,SAAlB,CAA2BC,MAAO,CAAEL,YAAWM,WAf9B,SAACC,GAClBN,EACED,EAAUQ,QAAO,SAACC,GAChB,OAAOA,IAAOF,OAYyCG,QAP7C,SAACH,IACkB,IAA7BP,EAAUW,QAAQJ,IACpBN,EAAa,GAAD,mBAAKD,GAAL,CAAgBO,QAM3Bd,EAAMmB,WCYEC,EA7CC,WAAO,IAAD,EACYjB,oBAAS,GADrB,mBACbkB,EADa,KACHC,EADG,KAEZL,EAAYM,qBAAW1B,GAAvBoB,QAkBR,OACE,yBAAKrB,UAAU,YACb,4BACE4B,QAAS,kBAAMF,GAAaD,IAC5BzB,UAAU,kCACV6B,KAAK,UAHP,oDAMA,yBAAK7B,UAAWyB,EAAW,qBAAuB,iBAzB/B,CACrB,UACA,WACA,SACA,UACA,WACA,eACA,WACA,UACA,YAiBoBK,KAAI,SAACV,GACnB,OACE,uBACEQ,QAAS,kBAhBnBP,EAgBqCD,QAfrCM,GAAY,IAgBFK,KAAK,IACL/B,UAAU,iBAEToB,S,iCCrCAY,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAS,qCCuCIC,EAvCF,SAAC,GAA0B,IAAxBjB,EAAuB,EAAvBA,KAAMD,EAAiB,EAAjBA,WACpB,OACI,kBAAC,IAAD,CACIlB,GAAE,+BAA0BmB,EAAKkB,IACjCpC,UAAU,kCAEV,wBAAIA,UAAU,oHACV,yBAAKA,UAAU,iBAAiBqC,IAAKnB,EAAKoB,MAAOC,IAAI,KACrD,0BAAMvC,UAAU,wBACXkB,EAAKsB,cADV,WAIA,0BACIxC,UACIkB,EAAKuB,4BAA8B,EAC7B,mBACA,qBAGT,IACAvB,EAAKuB,4BAA8B,EAChC,yBAAKzC,UAAU,uCAEf,yBAAKA,UAAU,qCAElBkB,EAAKuB,6BAEV,yBACIb,QAAS,SAACc,GACNA,EAAEC,iBACF1B,EAAWC,EAAKkB,KAEpBpC,UAAU,mDCUb4C,EAxCE,WAAO,IAAD,EACKrC,mBAAS,IADd,mBACdsC,EADc,KACPC,EADO,OAEanB,qBAAW1B,GAArCU,EAFa,EAEbA,UAAWM,EAFE,EAEFA,WAFE,EAGaV,oBAAS,GAHtB,mBAGdwC,EAHc,KAGHC,EAHG,KAKrBnC,qBAAU,WACR,IAAMoC,EAAS,uCAAG,4BAAAC,EAAA,6DAChBF,GAAa,GADG,SAEOG,EAAUC,IAAI,kBAAmB,CACtDC,OAAQ,CACNC,YAAa,MACbC,IAAK5C,EAAU6C,KAAK,QALR,OAEVC,EAFU,OAQhBX,EAASW,EAASC,MAClBV,GAAa,GATG,2CAAH,qDAYXrC,EAAUgD,OAAS,EACrBV,IACKH,EAAS,MACf,CAACnC,IAgBJ,OAAO,6BAbDoC,EACK,yBAAK/C,UAAU,gCAAgC4D,KAAK,WAI3D,wBAAI5D,UAAU,4BACX6C,EAAMf,KAAI,SAACZ,GACV,OAAO,kBAAC,EAAD,CAAM2C,IAAK3C,EAAKkB,GAAIlB,KAAMA,EAAMD,WAAYA,UCvB9C6C,EATE,WACf,OACE,yBAAK9D,UAAU,uDACb,kBAAC,EAAD,MACA,kBAAC,EAAD,Q,yBCRO+D,EAAiB,CAC5BC,qBAAsB,CACpBC,QAAQ,EACRC,OAAO,EACPC,WAAY,KAGdC,UAAW,CACTC,SAAU,KAEZC,qBAAqB,EACrBC,YAAY,EACZC,OAAQ,CACNC,MAAO,CACL,CACE5C,KAAM,OACN6C,aAAc,aC2EPC,EAvFM,SAAC,GAAc,IAAZjB,EAAW,EAAXA,KAChBkB,EAAWC,mBACTC,EAA4BpB,EAA5BoB,IAAKC,EAAuBrB,EAAvBqB,KAAMC,EAAiBtB,EAAjBsB,KAAMC,EAAWvB,EAAXuB,OAFQ,EAGG1E,mBAAS,OAHZ,mBAG1B2E,EAH0B,KAGdC,EAHc,KAK3BC,EAAsB,WAC1B,OAAQF,GACN,IAAK,MACH,OAAOJ,EACT,IAAK,KACH,OAAOC,EACT,IAAK,KACH,OAAOC,EACT,QACE,OAAOF,IAIbjE,qBAAU,WACR,GAAI+D,GAAYA,EAASS,SAAWJ,EAAQ,CAC1C5E,QAAQC,IAAI,QACU,IAAIgF,IAAQV,EAASS,QAAS,CAClDxD,KAAM,OACN6B,KAAM,CACJ6B,SAAU,CACR,CACEC,MAAM,4BAAD,OAAUP,EAAOQ,MACtB/B,KAAM0B,IACNM,gBAAiB,2BACjBC,YAAa,0BACbC,YAAa,KAInBC,QAAQ,eACH9B,SAwBX,OACE,yBAAK/D,UAAU,oCACb,6BApBgB,WAClB,GAAIiF,EACF,OACE,oCACE,uBAAGjF,UAAU,QAAQiF,EAAOzC,cAAcsD,QAAQ,GAAlD,WACA,uBACE9F,UACEiF,EAAOc,iBAAmB,EACtB,mBACA,qBAGLd,EAAOxC,4BAA4BqD,QAAQ,GAP9C,MAeEE,IACN,6BACE,4BAAQC,IAAKrB,EAAUxC,GAAG,UAAU8D,MAAO,IAAKC,OAAQ,OAG1D,yBAAKnG,UAAU,qBACb,4BACE4B,QAAS,kBAAMuD,EAAc,QAC7BnF,UAAU,oCAFZ,YAKA,4BACE4B,QAAS,kBAAMuD,EAAc,OAC7BnF,UAAU,yCAFZ,WAKA,4BACE4B,QAAS,kBAAMuD,EAAc,OAC7BnF,UAAU,oCAFZ,cCvCOoG,EAxCE,SAAC,GAAc,IAAZ1C,EAAW,EAAXA,KAqClB,OAAO,6BApCY,WACjB,GAAIA,EACF,OACE,yBAAK1D,UAAU,wCACb,yBAAKA,UAAU,UACb,yBAAKA,UAAU,sBACb,0BAAMA,UAAU,iCAAhB,0EACA,8BAAO0D,EAAK2C,WAEd,6BACA,yBAAKrG,UAAU,sBACb,0BAAMA,UAAU,iCAAhB,oEAGA,8BAAO0D,EAAK4C,WAIhB,yBAAKtG,UAAU,UACb,yBAAKA,UAAU,sBACb,0BAAMA,UAAU,iCAAhB,kFAGA,8BAAO0D,EAAK6C,aAEd,6BACA,yBAAKvG,UAAU,sBACb,0BAAMA,UAAU,iCAAhB,iEACA,8BAAO0D,EAAK8C,iBAQXC,KCsCAC,EAvEG,WAAO,IACftE,EAAOuE,cAAPvE,GADc,EAEU7B,mBAAS,IAFnB,mBAEfqG,EAFe,KAELC,EAFK,OAGYtG,oBAAS,GAHrB,mBAGfwC,EAHe,KAGJC,EAHI,KAKhB8D,EAAa,SAACpD,GAClB,OAAOA,EAAK5B,KAAI,SAACV,GACf,MAAO,CACL2F,EAAG3F,EAAG,GACN4F,EAAG5F,EAAG,GAAG0E,QAAQ,QAKvBjF,qBAAU,YACO,uCAAG,sCAAAqC,EAAA,6DAChBF,GAAa,GADG,SAEwBiE,QAAQC,IAAI,CAClD/D,EAAUC,IAAV,iBAAwBhB,EAAxB,kBAA4C,CAC1CiB,OAAQ,CACNC,YAAa,MACb6D,KAAM,OAGVhE,EAAUC,IAAV,iBAAwBhB,EAAxB,kBAA4C,CAC1CiB,OAAQ,CACNC,YAAa,MACb6D,KAAM,OAGVhE,EAAUC,IAAV,iBAAwBhB,EAAxB,kBAA4C,CAC1CiB,OAAQ,CACNC,YAAa,MACb6D,KAAM,SAGVhE,EAAUC,IAAI,kBAAmB,CAC/BC,OAAQ,CACNC,YAAa,MACbC,IAAKnB,OAxBK,mCAET0C,EAFS,KAEJC,EAFI,KAEEC,EAFF,KAEQC,EAFR,KA6BhB4B,EAAY,CACV/B,IAAKgC,EAAWhC,EAAIpB,KAAK0D,QACzBrC,KAAM+B,EAAW/B,EAAKrB,KAAK0D,QAC3BpC,KAAM8B,EAAW9B,EAAKtB,KAAK0D,QAC3BnC,OAAQA,EAAOvB,KAAK,KAEtBV,GAAa,GAnCG,4CAAH,qDAsCfC,KACC,CAACb,IAcJ,OAXMW,EACK,yBAAK/C,UAAU,gCAAgC4D,KAAK,WAG3D,yBAAK5D,UAAU,YACb,kBAAC,EAAD,CAAc0D,KAAMkD,IACpB,kBAAC,EAAD,CAAUlD,KAAMkD,EAAS3B,WC7DlBoC,EANA,WACb,OACE,0BAAMrH,UAAU,sBAAhB,sBCoBWsH,EAfH,WACR,OACI,yBAAKtH,UAAU,aACX,kBAAC,EAAD,KACI,kBAAC,IAAD,KACI,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOuH,OAAK,EAACC,KAAK,IAAIC,UAAW3D,IACjC,kBAAC,IAAD,CAAO0D,KAAK,aAAaC,UAAWf,IACpC,kBAAC,EAAD,UCbpBgB,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.f43d4ee0.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <Link to='/cryptotracker'>\r\n      <h1 className=\"header text-center text-primary mt-3 mb-4\">Coin Stats</h1>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Header;","import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const WatchListContext = createContext();\r\n\r\nexport const WatchListContextProvider = (props) => {\r\n  console.log();\r\n  const [watchList, setWatchList] = useState(\r\n    localStorage.getItem(\"watchList\")?.split(\",\") || [\r\n      \"bitcoin\",\r\n      \"ethereum\",\r\n      \"tether\",\r\n      \"dogecoin\",\r\n      \"cardano\"\r\n    ]\r\n  );\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"watchList\", watchList);\r\n  }, [watchList]);\r\n\r\n  const deleteCoin = (coin) => {\r\n    setWatchList(\r\n      watchList.filter((el) => {\r\n        return el !== coin;\r\n      })\r\n    );\r\n  };\r\n\r\n  const addCoin = (coin) => {\r\n    if (watchList.indexOf(coin) === -1) {\r\n      setWatchList([...watchList, coin]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <WatchListContext.Provider value={{ watchList, deleteCoin, addCoin }}>\r\n      {props.children}\r\n    </WatchListContext.Provider>\r\n  );\r\n};\r\n","import React, { useState, useContext } from \"react\";\r\nimport { WatchListContext } from \"../context/watchListContext\";\r\n\r\nconst AddCoin = () => {\r\n  const [isActive, setIsActive] = useState(false);\r\n  const { addCoin } = useContext(WatchListContext);\r\n  const availableCoins = [\r\n    \"bitcoin\",\r\n    \"ethereum\",\r\n    \"tether\",\r\n    \"cardano\",\r\n    \"dogecoin\",\r\n    \"bitcoin-cash\",\r\n    \"litecoin\",\r\n    \"stellar\",\r\n    \"filecoin\"\r\n  ];\r\n\r\n  const handleClick = (coin) => {\r\n    addCoin(coin);\r\n    setIsActive(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <button\r\n        onClick={() => setIsActive(!isActive)}\r\n        className=\"btn btn-primary dropdown-toggle\"\r\n        type=\"button\">\r\n        Добавить\r\n      </button>\r\n      <div className={isActive ? \"dropdown-menu show\" : \"dropdown-menu\"}>\r\n        {availableCoins.map((el) => {\r\n          return (\r\n            <a\r\n              onClick={() => handleClick(el)}\r\n              href=\"#\"\r\n              className=\"dropdown-item\"\r\n            >\r\n              {el}\r\n            </a>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddCoin;\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"https://api.coingecko.com/api/v3\",\r\n});\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Coin = ({ coin, deleteCoin }) => {\r\n  return (\r\n      <Link\r\n          to={`/cryptotracker/coins/${coin.id}`}\r\n          className=\"text-decoration-none my-1 coin\"\r\n      >\r\n          <li className=\"coinlist-item list-group-item list-group-item-action d-flex justify-content-between align-items-center text-dark\">\r\n              <img className=\"coinlist-image\" src={coin.image} alt=\"\" />\r\n              <span className=\"text-decoration-none\">\r\n                  {coin.current_price} ₽\r\n              </span>\r\n\r\n              <span\r\n                  className={\r\n                      coin.price_change_percentage_24h < 0\r\n                          ? \"text-danger mr-2\"\r\n                          : \"text-success mr-2\"\r\n                  }\r\n              >\r\n                  {\" \"}\r\n                  {coin.price_change_percentage_24h < 0 ? (\r\n                      <div className=\"fas fa-sort-down align-middle mr-1\"></div>\r\n                  ) : (\r\n                      <div className=\"fas fa-sort-up align-middle mr-1\"></div>\r\n                  )}\r\n                  {coin.price_change_percentage_24h}\r\n              </span>\r\n              <div\r\n                  onClick={(e) => {\r\n                      e.preventDefault();\r\n                      deleteCoin(coin.id);\r\n                  }}\r\n                  className=\"delete-icon far fa-times-circle text-danger\"\r\n              ></div>\r\n          </li>\r\n      </Link>\r\n  );\r\n};\r\n\r\nexport default Coin;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport coinGecko from \"../API/coinGecko\";\r\nimport { WatchListContext } from \"../context/watchListContext\";\r\nimport Coin from \"./Coin\";\r\n\r\nconst CoinList = () => {\r\n  const [coins, setCoins] = useState([]);\r\n  const { watchList, deleteCoin } = useContext(WatchListContext);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      const response = await coinGecko.get(\"/coins/markets/\", {\r\n        params: {\r\n          vs_currency: \"rub\",\r\n          ids: watchList.join(\",\"),\r\n        },\r\n      });\r\n      setCoins(response.data);\r\n      setIsLoading(false);\r\n    };\r\n\r\n    if (watchList.length > 0) {\r\n      fetchData();\r\n    } else setCoins([]);\r\n  }, [watchList]);\r\n\r\n  const renderCoins = () => {\r\n    if (isLoading) {\r\n      return <div className=\"spinner-grow text-primary m-2\" role=\"status\"/>;\r\n    }\r\n\r\n    return (\r\n      <ul className=\"coinlist list-group mt-2\">\r\n        {coins.map((coin) => {\r\n          return <Coin key={coin.id} coin={coin} deleteCoin={deleteCoin} />;\r\n        })}\r\n      </ul>\r\n    );\r\n  };\r\n\r\n  return <div>{renderCoins()}</div>;\r\n};\r\n\r\nexport default CoinList;\r\n","import React from \"react\";\r\nimport AddCoin from \"../components/AddCoin\";\r\nimport CoinList from \"../components/CoinList\";\r\n\r\nconst MainPage = () => {\r\n  return (\r\n    <div className=\"coinsummary shadow border p-2 rounded mt-2 bg-light\">\r\n      <AddCoin />\r\n      <CoinList />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainPage;\r\n","export const historyOptions = {\r\n  lineHeightAnnotation: {\r\n    always: true,\r\n    hover: false,\r\n    lineWeight: 1.5,\r\n  },\r\n\r\n  animation: {\r\n    duration: 2000,\r\n  },\r\n  maintainAspectRatio: false,\r\n  responsive: true,\r\n  scales: {\r\n    xAxes: [\r\n      {\r\n        type: \"time\",\r\n        distribution: \"linear\",\r\n      },\r\n    ],\r\n  },\r\n};\r\n","import React, { useRef, useEffect, useState } from \"react\";\r\nimport Chartjs from \"chart.js\";\r\nimport { historyOptions } from \"../chartConfigs/chartConfigs\";\r\n\r\nconst HistoryChart = ({ data }) => {\r\n  const chartRef = useRef();\r\n  const { day, week, year, detail } = data;\r\n  const [timeFormat, setTimeFormat] = useState(\"24h\");\r\n\r\n  const determineTimeFormat = () => {\r\n    switch (timeFormat) {\r\n      case \"24h\":\r\n        return day;\r\n      case \"7d\":\r\n        return week;\r\n      case \"1y\":\r\n        return year;\r\n      default:\r\n        return day;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (chartRef && chartRef.current && detail) {\r\n      console.log(\"yeah\");\r\n      const chartInstance = new Chartjs(chartRef.current, {\r\n        type: \"line\",\r\n        data: {\r\n          datasets: [\r\n            {\r\n              label: `Цена ${detail.name}`,\r\n              data: determineTimeFormat(),\r\n              backgroundColor: \"rgba(104, 177, 255, 0.5)\",\r\n              borderColor: \"rgba(104, 177, 255, 0.9\",\r\n              pointRadius: 1,\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          ...historyOptions,\r\n        },\r\n      });\r\n    }\r\n  });\r\n\r\n  const renderPrice = () => {\r\n    if (detail) {\r\n      return (\r\n        <>\r\n          <p className=\"my-0\">{detail.current_price.toFixed(2)} ₽</p>\r\n          <p\r\n            className={\r\n              detail.price_change_24h < 0\r\n                ? \"text-danger my-0\"\r\n                : \"text-success my-0\"\r\n            }\r\n          >\r\n            {detail.price_change_percentage_24h.toFixed(2)}%\r\n          </p>\r\n        </>\r\n      );\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"bg-white border mt-2 rounded p-3\">\r\n      <div>{renderPrice()}</div>\r\n      <div>\r\n        <canvas ref={chartRef} id=\"myChart\" width={250} height={250}></canvas>\r\n      </div>\r\n\r\n      <div className=\"chart-button mt-1\">\r\n        <button\r\n          onClick={() => setTimeFormat(\"24h\")}\r\n          className=\"btn btn-outline-secondary btn-sm\">\r\n          24Ч\r\n        </button>\r\n        <button\r\n          onClick={() => setTimeFormat(\"7d\")}\r\n          className=\"btn btn-outline-secondary btn-sm mx-1\">\r\n          7Д\r\n        </button>\r\n        <button\r\n          onClick={() => setTimeFormat(\"1y\")}\r\n          className=\"btn btn-outline-secondary btn-sm\">\r\n          1Г\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HistoryChart;\r\n","import React from \"react\";\r\n\r\nconst CoinData = ({ data }) => {\r\n  const renderData = () => {\r\n    if (data) {\r\n      return (\r\n        <div className=\"bg-white mt-4 p-4 rounded border row\">\r\n          <div className=\"col-sm\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span className=\"text-muted coin-data-category\">Максимум за 24Ч</span>\r\n              <span>{data.high_24h}</span>\r\n            </div>\r\n            <hr />\r\n            <div className=\"d-flex flex-column\">\r\n              <span className=\"text-muted coin-data-category\">\r\n                Минимум за 24Ч\r\n              </span>\r\n              <span>{data.low_24h}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-sm\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span className=\"text-muted coin-data-category\">\r\n                Капитализация\r\n              </span>\r\n              <span>{data.market_cap}</span>\r\n            </div>\r\n            <hr />\r\n            <div className=\"d-flex flex-column\">\r\n              <span className=\"text-muted coin-data-category\">Всего монет</span>\r\n              <span>{data.total_supply}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return <div>{renderData()}</div>;\r\n};\r\n\r\nexport default CoinData;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport HistoryChart from \"../components/HistoryChart\";\r\nimport CoinData from \"../components/CoinData\";\r\nimport coinGecko from \"../API/coinGecko\";\r\n\r\nconst CoinStats = () => {\r\n  const { id } = useParams();\r\n  const [coinData, setCoinData] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const formatData = (data) => {\r\n    return data.map((el) => {\r\n      return {\r\n        t: el[0],\r\n        y: el[1].toFixed(2),\r\n      };\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setIsLoading(true);\r\n      const [day, week, year, detail] = await Promise.all([\r\n        coinGecko.get(`/coins/${id}/market_chart/`, {\r\n          params: {\r\n            vs_currency: \"rub\",\r\n            days: \"1\",\r\n          },\r\n        }),\r\n        coinGecko.get(`/coins/${id}/market_chart/`, {\r\n          params: {\r\n            vs_currency: \"rub\",\r\n            days: \"7\",\r\n          },\r\n        }),\r\n        coinGecko.get(`/coins/${id}/market_chart/`, {\r\n          params: {\r\n            vs_currency: \"rub\",\r\n            days: \"365\",\r\n          },\r\n        }),\r\n        coinGecko.get(\"/coins/markets/\", {\r\n          params: {\r\n            vs_currency: \"rub\",\r\n            ids: id,\r\n          },\r\n        }),\r\n      ]);\r\n\r\n      setCoinData({\r\n        day: formatData(day.data.prices),\r\n        week: formatData(week.data.prices),\r\n        year: formatData(year.data.prices),\r\n        detail: detail.data[0],\r\n      });\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  const renderData = () => {\r\n    if (isLoading) {\r\n      return <div className=\"spinner-grow text-primary m-2\" role=\"status\"/>;\r\n    }\r\n    return (\r\n      <div className=\"coinlist\">\r\n        <HistoryChart data={coinData} />\r\n        <CoinData data={coinData.detail} />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return renderData();\r\n};\r\n\r\nexport default CoinStats;\r\n","import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <span className='footer text-center'>Made by Yan Levin</span>\r\n  );\r\n}\r\n\r\nexport default Footer;","import React from \"react\";\r\nimport { BrowserRouter, Route } from \"react-router-dom\";\r\nimport Header from \"./components/Header\";\r\nimport \"./App.css\";\r\nimport { WatchListContextProvider } from \"./context/watchListContext\";\r\nimport MainPage from \"./pages/MainPage\";\r\nimport CoinStats from \"./pages/CoinStats\";\r\nimport Footer from \"./components/Footer\";\r\n\r\nconst App = () => {\r\n    return (\r\n        <div className=\"container\">\r\n            <WatchListContextProvider>\r\n                <BrowserRouter>\r\n                    <Header />\r\n                    <Route exact path=\"/\" component={MainPage} />\r\n                    <Route path=\"/coins/:id\" component={CoinStats} />\r\n                    <Footer />\r\n                </BrowserRouter>\r\n            </WatchListContextProvider>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}